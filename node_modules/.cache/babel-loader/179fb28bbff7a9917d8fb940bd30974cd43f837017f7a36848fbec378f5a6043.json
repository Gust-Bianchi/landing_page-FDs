{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n// src/directives/reveal.js\nvar prefersReducedMotion = function prefersReducedMotion() {\n  return window.matchMedia && window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\n};\nexport default {\n  mounted: function mounted(el, binding) {\n    var _opts$delay, _opts$y;\n    var opts = (binding === null || binding === void 0 ? void 0 : binding.value) || {};\n    var delay = Number((_opts$delay = opts.delay) !== null && _opts$delay !== void 0 ? _opts$delay : 0);\n    var y = Number((_opts$y = opts.y) !== null && _opts$y !== void 0 ? _opts$y : 18);\n    var once = opts.once !== false;\n\n    // debug\n    console.log && console.log('[reveal] mounted', {\n      opts: opts\n    });\n    if (prefersReducedMotion()) {\n      console.log && console.log('[reveal] reduced-motion, forcing in');\n      el.classList.add(\"reveal-in\");\n      return;\n    }\n    el.style.setProperty(\"--reveal-delay\", \"\".concat(delay, \"ms\"));\n    el.style.setProperty(\"--reveal-y\", \"\".concat(y, \"px\"));\n    el.classList.add(\"reveal-init\");\n    var io = new IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        if (!entry.isIntersecting) return;\n        console.log && console.log('[reveal] io triggered', {\n          isIntersecting: entry.isIntersecting\n        });\n        el.classList.add(\"reveal-in\");\n        if (once) io.unobserve(el);\n      });\n    }, {\n      threshold: 0.18,\n      rootMargin: \"0px 0px -10% 0px\"\n    });\n    io.observe(el);\n    el.__revealIO = io;\n\n    // trigger immediately if element is already visible on load (useful for hero)\n    var checkVisibility = function checkVisibility() {\n      var rect = el.getBoundingClientRect();\n      var isVisible = rect.top < window.innerHeight * 0.9 && rect.bottom > 0;\n      console.log && console.log('[reveal] checkVisibility', {\n        rect: rect,\n        isVisible: isVisible\n      });\n      if (isVisible) {\n        el.classList.add(\"reveal-in\");\n        console.log && console.log('[reveal] forced reveal via checkVisibility');\n        if (once) io.unobserve(el);\n      }\n    };\n\n    // check on next frame and also on window load (covers late-rendered content)\n    requestAnimationFrame(checkVisibility);\n    window.addEventListener(\"load\", checkVisibility, {\n      once: true\n    });\n    el.__revealCheck = checkVisibility;\n  },\n  unmounted: function unmounted(el) {\n    if (el.__revealIO) el.__revealIO.disconnect();\n    delete el.__revealIO;\n    if (el.__revealCheck) {\n      window.removeEventListener(\"load\", el.__revealCheck);\n      delete el.__revealCheck;\n    }\n  }\n};","map":{"version":3,"names":["prefersReducedMotion","window","matchMedia","matches","mounted","el","binding","_opts$delay","_opts$y","opts","value","delay","Number","y","once","console","log","classList","add","style","setProperty","concat","io","IntersectionObserver","entries","forEach","entry","isIntersecting","unobserve","threshold","rootMargin","observe","__revealIO","checkVisibility","rect","getBoundingClientRect","isVisible","top","innerHeight","bottom","requestAnimationFrame","addEventListener","__revealCheck","unmounted","disconnect","removeEventListener"],"sources":["C:/Users/prm/Documents/front-fields-main/src/directives/reveal.js"],"sourcesContent":["// src/directives/reveal.js\r\nconst prefersReducedMotion = () =>\r\n  window.matchMedia &&\r\n  window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches;\r\n\r\nexport default {\r\n  mounted(el, binding) {\r\n    const opts = binding?.value || {};\r\n    const delay = Number(opts.delay ?? 0);\r\n    const y = Number(opts.y ?? 18);\r\n    const once = opts.once !== false;\r\n\r\n    // debug\r\n    console.log && console.log('[reveal] mounted', { opts });\r\n\r\n    if (prefersReducedMotion()) {\r\n      console.log && console.log('[reveal] reduced-motion, forcing in');\r\n      el.classList.add(\"reveal-in\");\r\n      return;\r\n    }\r\n\r\n    el.style.setProperty(\"--reveal-delay\", `${delay}ms`);\r\n    el.style.setProperty(\"--reveal-y\", `${y}px`);\r\n\r\n    el.classList.add(\"reveal-init\");\r\n\r\n    const io = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (!entry.isIntersecting) return;\r\n          console.log && console.log('[reveal] io triggered', { isIntersecting: entry.isIntersecting });\r\n          el.classList.add(\"reveal-in\");\r\n          if (once) io.unobserve(el);\r\n        });\r\n      },\r\n      { threshold: 0.18, rootMargin: \"0px 0px -10% 0px\" }\r\n    );\r\n\r\n    io.observe(el);\r\n    el.__revealIO = io;\r\n\r\n    // trigger immediately if element is already visible on load (useful for hero)\r\n    const checkVisibility = () => {\r\n      const rect = el.getBoundingClientRect();\r\n      const isVisible = rect.top < (window.innerHeight * 0.9) && rect.bottom > 0;\r\n      console.log && console.log('[reveal] checkVisibility', { rect, isVisible });\r\n      if (isVisible) {\r\n        el.classList.add(\"reveal-in\");\r\n        console.log && console.log('[reveal] forced reveal via checkVisibility');\r\n        if (once) io.unobserve(el);\r\n      }\r\n    };\r\n\r\n    // check on next frame and also on window load (covers late-rendered content)\r\n    requestAnimationFrame(checkVisibility);\r\n    window.addEventListener(\"load\", checkVisibility, { once: true });\r\n    el.__revealCheck = checkVisibility;\r\n  },\r\n  unmounted(el) {\r\n    if (el.__revealIO) el.__revealIO.disconnect();\r\n    delete el.__revealIO;\r\n    if (el.__revealCheck) {\r\n      window.removeEventListener(\"load\", el.__revealCheck);\r\n      delete el.__revealCheck;\r\n    }\r\n  },\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}